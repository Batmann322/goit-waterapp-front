"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[120],{120:(e,s,a)=>{a.r(s),a.d(s,{default:()=>g});var t=a(5043),r=a(3216),i=a(5475),o=a(3516),n=a(899);const l={authForm:"AuthForm_authForm__uJQjH",signUpTitle:"AuthForm_signUpTitle__cnBJb",customInput:"AuthForm_customInput__QwJL9",passwordContainer:"AuthForm_passwordContainer__V7pU3",eyeIcon:"AuthForm_eyeIcon__rKCel"};const c=a.p+"static/media/eye-icon.2afc38da31be029ef71094f15fae95dd.svg";var d=a(579);const m=e=>{let{onSuccess:s}=e;const[a,m]=(0,t.useState)(null),[p,u]=(0,t.useState)(!1),[h,w]=(0,t.useState)(!1),g=(0,r.Zp)(),j=n.Ik({email:n.Yj().email("Invalid email format").required("This field is required"),password:n.Yj().required("This field is required"),repeatPassword:n.Yj().oneOf([n.KR("password"),null],"Passwords must match").required("This field is required")});return(0,d.jsx)(o.l1,{initialValues:{email:"",password:"",repeatPassword:""},validationSchema:j,onSubmit:async e=>{try{const a=await fetch("https://waterapp-hfy2.onrender.com/api-docs/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:e.email,password:e.password})});if(!a.ok){const e=await a.json();throw new Error(e.message||"Something went wrong")}const t=(e=>{const[s]=e.split("@");return console.log(`Extracted username: ${s}`),s})(e.email);s(t),g("/signin")}catch(a){m(a.message||"Connection issues with the server")}},children:()=>(0,d.jsxs)(o.lV,{className:l.authForm,children:[(0,d.jsx)("h1",{className:l.signUpTitle,children:"Sign Up"}),(0,d.jsxs)("label",{children:["Enter your email",(0,d.jsx)(o.D0,{type:"email",name:"email",placeholder:"E-mail",className:l.customInput,required:!0}),(0,d.jsx)(o.Kw,{name:"email",component:"div",className:l.errorMessage})]}),(0,d.jsxs)("label",{children:["Enter your password",(0,d.jsxs)("div",{className:l.passwordContainer,children:[(0,d.jsx)(o.D0,{type:p?"text":"password",name:"password",placeholder:"Password",className:l.customInput,required:!0}),(0,d.jsx)("img",{src:c,alt:"Toggle password visibility",onClick:()=>u(!p),className:l.eyeIcon})]}),(0,d.jsx)(o.Kw,{name:"password",component:"div",className:l.errorMessage})]}),(0,d.jsxs)("label",{children:["Repeat password",(0,d.jsxs)("div",{className:l.passwordContainer,children:[(0,d.jsx)(o.D0,{type:h?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:l.customInput,required:!0}),(0,d.jsx)("img",{src:c,alt:"Toggle password visibility",onClick:()=>w(!h),className:l.eyeIcon})]}),(0,d.jsx)(o.Kw,{name:"repeatPassword",component:"div",className:l.errorMessage})]}),a&&(0,d.jsx)("div",{className:l.errorMessage,children:a}),(0,d.jsx)("button",{type:"submit",className:l.submitButton,children:"Sign Up"}),(0,d.jsx)(i.N_,{to:"/signin",className:l.signInLink,children:"Sign in"})]})})},p="SignupPage_container__r3EgE",u="SignupPage_signupPage__w5YgI",h="SignupPage_waterBottle__dhNzi";const w=a.p+"static/media/Water bottle.6899e336d0dd2224787e52162a67eec4.svg",g=()=>(0,d.jsxs)("section",{className:p,children:[(0,d.jsx)("div",{className:u,children:(0,d.jsx)(m,{onSuccess:()=>{console.log("Registration successful")}})}),(0,d.jsx)("img",{className:h,src:w,alt:"Water bottle"})]})}}]);
//# sourceMappingURL=120.55cc5068.chunk.js.map