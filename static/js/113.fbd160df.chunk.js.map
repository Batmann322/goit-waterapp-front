{"version":3,"file":"static/js/113.fbd160df.chunk.js","mappings":"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","sources":["webpack://react-homework-template/./src/pages/SignupPage/AuthForm.module.css?6041","assets/images/eye-icon.svg","pages/SignupPage/AuthForm.jsx","webpack://react-homework-template/./src/pages/SignupPage/SignupPage.module.css?0dd3","pages/SignupPage/SignupPage.jsx"],"sourcesContent":["// extracted by mini-css-extract-plugin\nexport default {\"authForm\":\"AuthForm_authForm__uJQjH\",\"signUpTitle\":\"AuthForm_signUpTitle__cnBJb\",\"customInput\":\"AuthForm_customInput__QwJL9\",\"passwordContainer\":\"AuthForm_passwordContainer__V7pU3\",\"eyeIcon\":\"AuthForm_eyeIcon__rKCel\"};","var _path;\nfunction _extends() { return _extends = Object.assign ? Object.assign.bind() : function (n) { for (var e = 1; e < arguments.length; e++) { var t = arguments[e]; for (var r in t) ({}).hasOwnProperty.call(t, r) && (n[r] = t[r]); } return n; }, _extends.apply(null, arguments); }\nimport * as React from \"react\";\nfunction SvgEyeIcon(_ref, svgRef) {\n  let {\n    title,\n    titleId,\n    ...props\n  } = _ref;\n  return /*#__PURE__*/React.createElement(\"svg\", _extends({\n    width: 16,\n    height: 16,\n    viewBox: \"0 0 16 16\",\n    fill: \"none\",\n    xmlns: \"http://www.w3.org/2000/svg\",\n    ref: svgRef,\n    \"aria-labelledby\": titleId\n  }, props), title ? /*#__PURE__*/React.createElement(\"title\", {\n    id: titleId\n  }, title) : null, _path || (_path = /*#__PURE__*/React.createElement(\"path\", {\n    d: \"M2.65334 5.482C2.02964 6.21812 1.56521 7.07547 1.28934 8C2.15067 10.892 4.82934 13 8 13C8.662 13 9.302 12.908 9.90867 12.7367M4.152 4.152C5.29375 3.39854 6.63205 2.99788 8 3C11.1707 3 13.8487 5.108 14.71 7.99867C14.2379 9.5782 13.2247 10.941 11.848 11.848M4.152 4.152L2 2M4.152 4.152L6.58534 6.58533M11.848 11.848L14 14M11.848 11.848L9.41467 9.41467C9.6004 9.22893 9.74773 9.00844 9.84825 8.76577C9.94877 8.52309 10.0005 8.263 10.0005 8.00033C10.0005 7.73767 9.94877 7.47757 9.84825 7.2349C9.74773 6.99223 9.6004 6.77173 9.41467 6.586C9.22894 6.40027 9.00844 6.25294 8.76577 6.15242C8.5231 6.0519 8.263 6.00016 8.00034 6.00016C7.73767 6.00016 7.47758 6.0519 7.2349 6.15242C6.99223 6.25294 6.77174 6.40027 6.586 6.586M9.414 9.414L6.58667 6.58667\",\n    stroke: \"#407BFF\",\n    strokeLinecap: \"round\",\n    strokeLinejoin: \"round\"\n  })));\n}\nconst ForwardRef = /*#__PURE__*/React.forwardRef(SvgEyeIcon);\nexport default __webpack_public_path__ + \"static/media/eye-icon.2afc38da31be029ef71094f15fae95dd.svg\";\nexport { ForwardRef as ReactComponent };","import React, { useState } from 'react';\nimport { Link, useNavigate } from 'react-router-dom';\nimport { Formik, Field, Form, ErrorMessage } from 'formik';\nimport * as Yup from 'yup';\nimport styles from './AuthForm.module.css';\nimport EyeIcon from '../../assets/images/eye-icon.svg';\n\nconst AuthForm = ({ onSuccess }) => {\n  const [error, setError] = useState(null);\n  const [showPassword, setShowPassword] = useState(false);\n  const [showRepeatPassword, setShowRepeatPassword] = useState(false);\n  const navigate = useNavigate();\n\n  const getUsernameFromEmail = email => {\n    const [username] = email.split('@');\n    console.log(`Отримане ім'я користувача: ${username}`);\n    return username;\n  };\n\n  const handleSubmit = async values => {\n    try {\n      const response = await fetch(\n        'https://waterapp-hfy2.onrender.com/api-docs/auth/signup',\n        {\n          method: 'POST',\n          headers: {\n            'Content-Type': 'application/json',\n          },\n          body: JSON.stringify({\n            email: values.email,\n            password: values.password,\n          }),\n        }\n      );\n\n      if (!response.ok) {\n        const errorData = await response.json();\n        throw new Error(errorData.message || 'Щось пішло не так');\n      }\n\n      const username = getUsernameFromEmail(values.email);\n      onSuccess(username);\n\n      navigate('/signin');\n    } catch (error) {\n      setError(error.message || 'Проблеми з підключенням до сервера');\n    }\n  };\n\n  const validationSchema = Yup.object({\n    email: Yup.string()\n      .email('Неправильний формат електронної пошти')\n      .required(\"Обов'язкове поле\"),\n    password: Yup.string().required(\"Обов'язкове поле\"),\n    repeatPassword: Yup.string()\n      .oneOf([Yup.ref('password'), null], 'Паролі мають співпадати')\n      .required(\"Обов'язкове поле\"),\n  });\n\n  return (\n    <Formik\n      initialValues={{\n        email: '',\n        password: '',\n        repeatPassword: '',\n      }}\n      validationSchema={validationSchema}\n      onSubmit={handleSubmit}\n    >\n      {() => (\n        <Form className={styles.authForm}>\n          <h1 className={styles.signUpTitle}>Sign Up</h1>\n          <label>\n            Enter your email\n            <Field\n              type=\"email\"\n              name=\"email\"\n              placeholder=\"E-mail\"\n              className={styles.customInput}\n              required\n            />\n            <ErrorMessage\n              name=\"email\"\n              component=\"div\"\n              className={styles.errorMessage}\n            />\n          </label>\n          <label>\n            Enter your password\n            <div className={styles.passwordContainer}>\n              <Field\n                type={showPassword ? 'text' : 'password'}\n                name=\"password\"\n                placeholder=\"Password\"\n                className={styles.customInput}\n                required\n              />\n              <img\n                src={EyeIcon}\n                alt=\"Toggle password visibility\"\n                onClick={() => setShowPassword(!showPassword)}\n                className={styles.eyeIcon}\n              />\n            </div>\n            <ErrorMessage\n              name=\"password\"\n              component=\"div\"\n              className={styles.errorMessage}\n            />\n          </label>\n          <label>\n            Repeat password\n            <div className={styles.passwordContainer}>\n              <Field\n                type={showRepeatPassword ? 'text' : 'password'}\n                name=\"repeatPassword\"\n                placeholder=\"Repeat password\"\n                className={styles.customInput}\n                required\n              />\n              <img\n                src={EyeIcon}\n                alt=\"Toggle password visibility\"\n                onClick={() => setShowRepeatPassword(!showRepeatPassword)}\n                className={styles.eyeIcon}\n              />\n            </div>\n            <ErrorMessage\n              name=\"repeatPassword\"\n              component=\"div\"\n              className={styles.errorMessage}\n            />\n          </label>\n          {error && <div className={styles.errorMessage}>{error}</div>}\n          <button type=\"submit\" className={styles.submitButton}>\n            Sign Up\n          </button>\n          <Link to=\"/signin\" className={styles.signInLink}>\n            Sign in\n          </Link>\n        </Form>\n      )}\n    </Formik>\n  );\n};\n\nexport default AuthForm;\n","// extracted by mini-css-extract-plugin\nexport default {\"signupPage\":\"SignupPage_signupPage__w5YgI\",\"waterBottle\":\"SignupPage_waterBottle__dhNzi\"};","import React from 'react';\nimport AuthForm from './AuthForm';\nimport styles from './SignupPage.module.css';\n\nconst SignupPage = () => {\n  const handleSuccess = () => {\n    console.log('Реєстрація успішна');\n  };\n\n  return (\n    <div className={styles.signupPage}>\n      <AuthForm onSuccess={handleSuccess} />\n      <img\n        src={`${process.env.PUBLIC_URL}/assets/src/assets/images/water-bottle.png`}\n        alt=\"Water bottle\"\n        className={styles.waterBottle}\n      />\n    </div>\n  );\n};\n\nexport default SignupPage;\n"],"names":["_ref","onSuccess","error","setError","useState","showPassword","setShowPassword","showRepeatPassword","setShowRepeatPassword","navigate","useNavigate","validationSchema","Yup","email","required","password","repeatPassword","oneOf","_jsx","Formik","initialValues","onSubmit","async","response","fetch","method","headers","body","JSON","stringify","values","ok","errorData","json","Error","message","username","split","console","log","getUsernameFromEmail","children","_jsxs","Form","className","styles","authForm","signUpTitle","Field","type","name","placeholder","customInput","ErrorMessage","component","errorMessage","passwordContainer","src","EyeIcon","alt","onClick","eyeIcon","submitButton","Link","to","signInLink","SignupPage","AuthForm","handleSuccess"],"sourceRoot":""}