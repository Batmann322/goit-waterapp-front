"use strict";(self.webpackChunkreact_homework_template=self.webpackChunkreact_homework_template||[]).push([[113],{8113:(s,e,a)=>{a.r(e),a.d(e,{default:()=>h});var t=a(5043),r=a(3216),o=a(5475),n=a(3516),i=a(899);const l={authForm:"AuthForm_authForm__uJQjH",signUpTitle:"AuthForm_signUpTitle__cnBJb",customInput:"AuthForm_customInput__QwJL9",passwordContainer:"AuthForm_passwordContainer__V7pU3",eyeIcon:"AuthForm_eyeIcon__rKCel"};const c=a.p+"static/media/eye-icon.2afc38da31be029ef71094f15fae95dd.svg";var m=a(579);const p=s=>{let{onSuccess:e}=s;const[a,p]=(0,t.useState)(null),[d,u]=(0,t.useState)(!1),[h,w]=(0,t.useState)(!1),g=(0,r.Zp)(),j=i.Ik({email:i.Yj().email("\u041d\u0435\u043f\u0440\u0430\u0432\u0438\u043b\u044c\u043d\u0438\u0439 \u0444\u043e\u0440\u043c\u0430\u0442 \u0435\u043b\u0435\u043a\u0442\u0440\u043e\u043d\u043d\u043e\u0457 \u043f\u043e\u0448\u0442\u0438").required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),password:i.Yj().required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435"),repeatPassword:i.Yj().oneOf([i.KR("password"),null],"\u041f\u0430\u0440\u043e\u043b\u0456 \u043c\u0430\u044e\u0442\u044c \u0441\u043f\u0456\u0432\u043f\u0430\u0434\u0430\u0442\u0438").required("\u041e\u0431\u043e\u0432'\u044f\u0437\u043a\u043e\u0432\u0435 \u043f\u043e\u043b\u0435")});return(0,m.jsx)(n.l1,{initialValues:{email:"",password:"",repeatPassword:""},validationSchema:j,onSubmit:async s=>{try{const a=await fetch("https://waterapp-hfy2.onrender.com/api-docs/auth/signup",{method:"POST",headers:{"Content-Type":"application/json"},body:JSON.stringify({email:s.email,password:s.password})});if(!a.ok){const s=await a.json();throw new Error(s.message||"\u0429\u043e\u0441\u044c \u043f\u0456\u0448\u043b\u043e \u043d\u0435 \u0442\u0430\u043a")}const t=(s=>{const[e]=s.split("@");return console.log(`\u041e\u0442\u0440\u0438\u043c\u0430\u043d\u0435 \u0456\u043c'\u044f \u043a\u043e\u0440\u0438\u0441\u0442\u0443\u0432\u0430\u0447\u0430: ${e}`),e})(s.email);e(t),g("/signin")}catch(a){p(a.message||"\u041f\u0440\u043e\u0431\u043b\u0435\u043c\u0438 \u0437 \u043f\u0456\u0434\u043a\u043b\u044e\u0447\u0435\u043d\u043d\u044f\u043c \u0434\u043e \u0441\u0435\u0440\u0432\u0435\u0440\u0430")}},children:()=>(0,m.jsxs)(n.lV,{className:l.authForm,children:[(0,m.jsx)("h1",{className:l.signUpTitle,children:"Sign Up"}),(0,m.jsxs)("label",{children:["Enter your email",(0,m.jsx)(n.D0,{type:"email",name:"email",placeholder:"E-mail",className:l.customInput,required:!0}),(0,m.jsx)(n.Kw,{name:"email",component:"div",className:l.errorMessage})]}),(0,m.jsxs)("label",{children:["Enter your password",(0,m.jsxs)("div",{className:l.passwordContainer,children:[(0,m.jsx)(n.D0,{type:d?"text":"password",name:"password",placeholder:"Password",className:l.customInput,required:!0}),(0,m.jsx)("img",{src:c,alt:"Toggle password visibility",onClick:()=>u(!d),className:l.eyeIcon})]}),(0,m.jsx)(n.Kw,{name:"password",component:"div",className:l.errorMessage})]}),(0,m.jsxs)("label",{children:["Repeat password",(0,m.jsxs)("div",{className:l.passwordContainer,children:[(0,m.jsx)(n.D0,{type:h?"text":"password",name:"repeatPassword",placeholder:"Repeat password",className:l.customInput,required:!0}),(0,m.jsx)("img",{src:c,alt:"Toggle password visibility",onClick:()=>w(!h),className:l.eyeIcon})]}),(0,m.jsx)(n.Kw,{name:"repeatPassword",component:"div",className:l.errorMessage})]}),a&&(0,m.jsx)("div",{className:l.errorMessage,children:a}),(0,m.jsx)("button",{type:"submit",className:l.submitButton,children:"Sign Up"}),(0,m.jsx)(o.N_,{to:"/signin",className:l.signInLink,children:"Sign in"})]})})},d="SignupPage_signupPage__w5YgI",u="SignupPage_waterBottle__dhNzi",h=()=>(0,m.jsxs)("div",{className:d,children:[(0,m.jsx)(p,{onSuccess:()=>{console.log("\u0420\u0435\u0454\u0441\u0442\u0440\u0430\u0446\u0456\u044f \u0443\u0441\u043f\u0456\u0448\u043d\u0430")}}),(0,m.jsx)("img",{src:"/assets/src/assets/images/water-bottle.png",alt:"Water bottle",className:u})]})}}]);
//# sourceMappingURL=113.fbd160df.chunk.js.map